"use strict";(self.webpackChunkkeploy_ui=self.webpackChunkkeploy_ui||[]).push([[937],{85190:function(e,t,r){r.d(t,{Z:function(){return b}});var a=r(63366),n=r(87462),o=r(67294),i=r(85505),l=r(49408),s=r(98348),c=r(32371),d=r(49240),u=r(98953),m=r(48416);function p(e){return(0,m.Z)("MuiAppBar",e)}(0,r(62194).Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);var f=r(85893),h=["className","color","enableColorOnDark","position"],g=(0,s.ZP)(u.Z,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t["position".concat((0,d.Z)(r.position))],t["color".concat((0,d.Z)(r.color))]]}})((function(e){var t=e.theme,r=e.ownerState,a="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,n.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===r.position&&{position:"fixed",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===r.position&&{position:"absolute",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"sticky"===r.position&&{position:"sticky",zIndex:t.zIndex.appBar,top:0,left:"auto",right:0},"static"===r.position&&{position:"static"},"relative"===r.position&&{position:"relative"},"default"===r.color&&{backgroundColor:a,color:t.palette.getContrastText(a)},r.color&&"default"!==r.color&&"inherit"!==r.color&&"transparent"!==r.color&&{backgroundColor:t.palette[r.color].main,color:t.palette[r.color].contrastText},"inherit"===r.color&&{color:"inherit"},"dark"===t.palette.mode&&!r.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===r.color&&(0,n.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"}))})),b=o.forwardRef((function(e,t){var r=(0,c.Z)({props:e,name:"MuiAppBar"}),o=r.className,s=r.color,u=void 0===s?"primary":s,m=r.enableColorOnDark,b=void 0!==m&&m,v=r.position,x=void 0===v?"fixed":v,Z=(0,a.Z)(r,h),y=(0,n.Z)({},r,{color:u,position:x,enableColorOnDark:b}),w=function(e){var t=e.color,r=e.position,a=e.classes,n={root:["root","color".concat((0,d.Z)(t)),"position".concat((0,d.Z)(r))]};return(0,l.Z)(n,p,a)}(y);return(0,f.jsx)(g,(0,n.Z)({square:!0,component:"header",ownerState:y,elevation:4,className:(0,i.Z)(w.root,o,"fixed"===x&&"mui-fixed"),ref:t},Z))}))},40716:function(e,t,r){r.r(t),r.d(t,{default:function(){return Q}});var a=r(53210),n=r(65112),o=r(67294),i=r(6595),l=r(75038),s=r(42982);var c=r(63366),d=r(94057),u=r(65553),m=r(67402),p=r(49308),f=r(4320),h=r(85190),g=r(97098),b=r(39211),v=r(98348),x=r(4343),Z=r(25444),y=r(65265),w=r(4942),E=r(45987),C=r(75900),P=r.n(C),T=r(85893);var k=o.createContext({prefixes:{}});k.Consumer,k.Provider;function N(e,t){var r=(0,o.useContext)(k).prefixes;return e||r[t]||t}function O(e,t){var r=0;return o.Children.map(e,(function(e){return o.isValidElement(e)?t(e,r++):e}))}var S=["min","now","max","label","visuallyHidden","striped","animated","className","style","variant","bsPrefix"],j=["isChild"],R=["min","now","max","label","visuallyHidden","striped","animated","bsPrefix","variant","className","children"];function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){(0,w.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){var a=(e-t)/(r-t)*100;return Math.round(1e3*a)/1e3}function B(e,t){var r,a=e.min,n=e.now,o=e.max,i=e.label,l=e.visuallyHidden,s=e.striped,c=e.animated,d=e.className,u=e.style,m=e.variant,p=e.bsPrefix,f=(0,E.Z)(e,S);return(0,T.jsx)("div",D(D({ref:t},f),{},{role:"progressbar",className:P()(d,"".concat(p,"-bar"),(r={},(0,w.Z)(r,"bg-".concat(m),m),(0,w.Z)(r,"".concat(p,"-bar-animated"),c),(0,w.Z)(r,"".concat(p,"-bar-striped"),c||s),r)),style:D({width:"".concat(I(n,a,o),"%")},u),"aria-valuenow":n,"aria-valuemin":a,"aria-valuemax":o,children:l?(0,T.jsx)("span",{className:"visually-hidden",children:i}):i}))}var H=o.forwardRef((function(e,t){var r=e.isChild,a=(0,E.Z)(e,j);if(a.bsPrefix=N(a.bsPrefix,"progress"),r)return B(a,t);var n=a.min,i=a.now,l=a.max,s=a.label,c=a.visuallyHidden,d=a.striped,u=a.animated,m=a.bsPrefix,p=a.variant,f=a.className,h=a.children,g=(0,E.Z)(a,R);return(0,T.jsx)("div",D(D({ref:t},g),{},{className:P()(f,m),children:h?O(h,(function(e){return(0,o.cloneElement)(e,{isChild:!0})})):B({min:n,now:i,max:l,label:s,visuallyHidden:c,striped:d,animated:u,bsPrefix:m,variant:p},t)}))}));H.displayName="ProgressBar",H.defaultProps={min:0,max:100,animated:!1,isChild:!1,visuallyHidden:!1,striped:!1};var z=H,W=r(70302),F=r(72129),M=r(47255),_=r(96337),G=r(2364),q=r(43753),J=r(89127),L=["className"],U=(0,W.Z)((function(){return{card:{width:"100%",marginTop:20,"&:hover":{boxShadow:"rgba(0, 0, 0, 0.22) 0px 19px 43px",transform:"translate3d(0px, -1px, 0px)"},borderRadius:10},key:{whiteSpace:"nowrap",overflow:"hidden",color:"rgb(50,50,50)"},value:{color:"rgba(25,118,210)",textOverflow:"ellipsis",overflow:"hidden",flexGrow:1},success:{color:"success"},failed:{color:"error"}}})),V=(0,v.ZP)((function(e){var t=e.className,r=(0,c.Z)(e,L);return o.createElement(u.Z,Object.assign({},r,{classes:{popper:t}}))}))((function(e){var t;return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e),(t={})["& ."+m.Z.tooltip]={backgroundColor:"#ffffff",color:"rgba(146,146,146,0.87)",minWidth:250,marginBottom:5,border:"1px solid #dadde9"},t}));function $(){var e=U(),t=o.useState(5),r=t[0],a=t[1],l=(0,q.a)(d.ok,{pollInterval:i.g_}),c=l.loading,u=l.error,m=l.data;if(c)return o.createElement(_.Z,null);if(u)return o.createElement(G.Z,{msg:u.message});if(null==m||null==(null==m?void 0:m.testRun)||0==(null==m?void 0:m.testRun.length))return o.createElement(M.Z,{doc:"https://github.com/keploy/keploy",message:"Please perform some Test Runs! ",image:F.Z});var v=[{field:"id",headerName:"Testrun ID",minWidth:350,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"app",headerName:"App Name",minWidth:200,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"startedAt",headerName:"Started At",minWidth:150,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"totalTests",headerName:"Total Tests",type:"number",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"successfulTests",headerName:"Successful Tests",type:"number",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"failedTests",headerName:"Failed Tests",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center"},{field:"status",headerName:"Status",minWidth:160,flex:1,headerClassName:"super-app-theme--header",align:"center",headerAlign:"center",renderCell:function(t){return o.createElement(V,{title:o.createElement(o.Fragment,null,o.createElement(p.Z,null,"Summary"),o.createElement(f.ZP,{container:!0,direction:"column"},o.createElement(f.ZP,{item:!0,container:!0,direction:"row",style:{marginBottom:10},justifyContent:"center"},o.createElement(f.ZP,{item:!0,xs:6},o.createElement(p.Z,{variant:"subtitle2",color:"success.main"},"Successful Tests")),o.createElement(f.ZP,{item:!0,xs:6},o.createElement(p.Z,{variant:"subtitle2",color:"success.main"},": ",t.row.successfulTests))),o.createElement(f.ZP,{item:!0,container:!0,direction:"row",style:{marginBottom:10},justifyContent:"center"},o.createElement(f.ZP,{item:!0,xs:6},o.createElement(p.Z,{variant:"subtitle2",color:"error.main"},"Failed Tests")),o.createElement(f.ZP,{item:!0,xs:6},o.createElement(p.Z,{variant:"subtitle2",color:"error.main"},": ",t.row.failedTests))),o.createElement(f.ZP,{item:!0,container:!0,direction:"row",style:{marginBottom:10},justifyContent:"center"},o.createElement(f.ZP,{item:!0,xs:6},o.createElement(p.Z,{variant:"subtitle2",className:e.value},"Total Tests")),o.createElement(f.ZP,{item:!0,xs:6},o.createElement(p.Z,{variant:"subtitle2",className:e.value},": ",t.row.totalTests)))))},o.createElement(z,{style:{height:8,width:100}},o.createElement(z,{now:100*t.row.successfulTests/t.row.totalTests,visuallyHidden:!0,style:{height:8,backgroundColor:"rgba(46,125,50,0.8)"},label:t.row.successfulTests+" Successful",key:1}),o.createElement(z,{now:100*t.row.failedTests/t.row.totalTests,visuallyHidden:!0,style:{height:8,backgroundColor:"rgba(211,47,47,0.8)"},label:t.row.failedTests+" Failed",key:2}),"RUNNING"==t.row.status&&o.createElement(z,{visuallyHidden:!0,now:100*(t.row.totalTests-t.row.successfulTests-t.row.failedTests)/t.row.totalTests,style:{height:8,backgroundColor:"#fff59d",color:"#000"},animated:!0,striped:!0,label:"In Progress",key:3})))}}],w=(0,s.Z)(m.testRun).sort((function(e,t){return e.updated<t.updated?1:-1})),E=[];return w.map((function(e){E.push({id:e.id,app:e.app,startedAt:(0,y.rJ)(e.updated),totalTests:e.total,successfulTests:e.success,failedTests:e.failure})})),o.createElement(o.Fragment,null,o.createElement(n.Z,{title:"Recent Test Runs"}),o.createElement(f.ZP,{container:!0,sx:{mb:50}},(null==m?void 0:m.testRun.length)>0&&o.createElement(f.ZP,{item:!0,container:!0,direction:"column"},o.createElement(h.Z,{position:"relative",sx:{mb:1},style:y.ZE},o.createElement(g.Z,{sx:{height:"10vh",alignContent:"center"}},o.createElement(p.Z,{variant:"h4",color:"inherit",component:"div"},"Recent Test Runs"))),o.createElement(f.ZP,{item:!0,container:!0,spacing:4,sx:{pl:5,pr:5}},o.createElement(b.Z,{sx:{width:"100%",marginTop:5,marginLeft:"auto",marginRight:"auto",backgroundColor:"white","& .super-app-theme--header":{backgroundColor:"#1976D2",color:"#ffffff"}}},o.createElement(x._$r,{rows:E,columns:v,autoHeight:!0,rowHeight:60,onPageSizeChange:function(e){return a(e)},pageSize:r,rowsPerPageOptions:[5,10,100],onRowClick:function(e){(0,Z.navigate)("detail/?id="+e.row.id)},components:{Toolbar:J.N}}))))))}var K=r(63974);function Q(){return o.createElement(l.e,{client:i.ID},o.createElement(K.Z,{theme:y.rS},o.createElement(a.Z,null,o.createElement(n.Z,{title:"Deployment History"}),o.createElement($,null))))}},72129:function(e,t,r){t.Z=r.p+"static/empty-fbafdc495a40f15555d06a379cfc2c2f.png"}}]);
//# sourceMappingURL=component---src-pages-testruns-tsx-e826d5f80e422fd2422a.js.map